Creating user in IAM with programmatic access and use AWS CLI to create more users.

*	In AWS management console under IAM service , Select ‘Add users’ 

*	Give user name and select required access type then select ‘Next: Permissions’ .
For Programmatic access, select the checkbox for “Access key – programmatic access” which will generate the access keys and for AWS management console access , select “Password – AWS management console”. Choose “Autogenerated password” or “custom password” if you want to enter your own password.

*	Attach required access policies based on the user role(best practice to give least privileges) and select “Next: Tags”
 
*	Add tags, its optional -> select ‘Review’

*	Review the user details and permissions -> select ‘Create User’

*	User created in IAM with Access key ID and Secret access key for the new user. This is the only time access keys are available to download. Access keys can be sent in email as well. Without the keys user will not able to access the CLI or any programmatic ways. The access keys are mapped to the created user, cannot be used for other users in IAM.
 
*	Download and install the latest version of AWS CLI

*	After installing the AWS CLI, in the command prompt check AWS CLI version – “aws –version” command . 

*	Configure with user with access keys obtained when creating the user in IAM console.

*	Use command ‘aws iam create-user --user-name demouser2’ to create a new user through aws CLI
                 
*	To set the password for the new user , use command ‘aws iam create-login-profile --user-name demouser2 --password <enter_password> --no-password-reset-required’ 

*	Create access keys for the user with command ‘aws iam create-access-key –user-name demouser2’ 

*	Add access to the user – ‘aws iam attach-user-policy --user-name demouser2 --policy-arn "arn:aws:iam::aws:policy/AmazonEC2FullAccess"’ 

*	To check the list of users , use command  ‘aws iam list-users’


  





